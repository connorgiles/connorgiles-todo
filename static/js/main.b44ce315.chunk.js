(this["webpackJsonpconnorgiles-todo"]=this["webpackJsonpconnorgiles-todo"]||[]).push([[0],{129:function(e,t,n){e.exports=n(248)},136:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),l=(n(134),n(135),n(136),n(47)),i=n(12),u=n(14),s=n(23),d=n(268),m=n(269),f=n(24);var g=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.error(a),t}})),r=Object(u.a)(n,2),o=r[0],c=r[1];return[o,function(t){try{var n=t instanceof Function?t(o):t;c(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.error(a)}}]},v=["Pending","In Progress","Completed"],E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.query?t.query.toLowerCase():null;return e.map((function(e){return n&&!e.title.toLowerCase().includes(n)?Object(i.a)({},e,{include:!1}):!t.status||t.status===e.status||"Not Completed"===t.status&&"Completed"!==e.status?t.tag&&!(e.tags||[]).find((function(e){return e.value===t.tag}))?Object(i.a)({},e,{include:!1}):Object(i.a)({},e,{include:!0}):Object(i.a)({},e,{include:!1})}))},p=function(e){var t=v.findIndex((function(t){return e===t}));return v[(t+1)%v.length]},b=n(254);function h(e){var t=e.filters,n=e.setFilters;e.tags;return r.a.createElement("div",{className:"my-3"},r.a.createElement(b.a,{id:"search-bar",onChange:function(e){return a=e.target.value,n(Object(i.a)({},t,{query:a}));var a},value:null===t||void 0===t?void 0:t.query,placeholder:"Search tasks",required:!0}))}var O=n(256),j=n(257),k=n(66),w=n(255);function y(){var e=Object(s.a)(["\n  cursor: ",";\n"]);return y=function(){return e},e}var N=Object(f.a)(w.a)(y(),(function(e){return e.onClick?"pointer":"inherit"})),C={Pending:"dark","In Progress":"primary",Completed:"success"};function S(e){var t=e.status,n=e.color,a=Object(k.a)(e,["status","color"]);return r.a.createElement(N,Object.assign({color:n||C[t]},a),t)}var x=function(e){var t=e.filters;return t&&0!==Object.keys(t).length?r.a.createElement("div",{className:"d-inline-block ml-3 vertical-align-center"},t.status&&r.a.createElement("span",null,"Status: ",r.a.createElement(S,{className:"mr-2",status:t.status})),t.tag&&r.a.createElement("span",null,"Tag: ",r.a.createElement(S,{className:"mr-2",status:t.tag}))):r.a.createElement(r.a.Fragment,null)};function T(e){var t=e.filters,n=e.setFilters,o=e.tags,c=Object(a.useState)(!1),l=Object(u.a)(c,2),s=l[0],d=l[1],m=function(e){return n(Object(i.a)({},t,{status:e}))},f=function(e){n(Object(i.a)({},t,{tag:e}))},g=function(e,n){return!t[e]||t[e]===n};return r.a.createElement("div",{className:"fixed-bottom"},r.a.createElement("div",{style:{marginBottom:"1rem",marginLeft:"1rem"}},r.a.createElement(O.a,{color:"secondary",onClick:function(){return d(!s)},style:{borderRadius:"100px"}},s?"Hide":"Show"," Filters")," ",r.a.createElement(x,{filters:t})),r.a.createElement(j.a,{isOpen:s,className:"py-3 bg-secondary text-white",style:{opacity:.9}},r.a.createElement("div",{className:"my-3 text-center"},"Status:"," ",r.a.createElement(S,{className:"mr-2",color:"light",status:"All",onClick:function(){return m(void 0)}}),v.map((function(e){return r.a.createElement(S,{key:e,className:"mr-2",status:e,color:g("status",e)?void 0:"light",onClick:function(){return m(e)}})})),r.a.createElement(S,{className:"mr-2",status:"Not Completed",color:g("status","Not Completed")?"info":"light",onClick:function(){return m("Not Completed")}})),o&&o.length>0&&r.a.createElement("div",{className:"my-3 text-center"},"Tags:"," ",r.a.createElement(S,{className:"mr-2",color:t.tag?"light":"dark",status:"All",onClick:function(){return f(void 0)}}),o.map((function(e){var n=e.value;return r.a.createElement(S,{key:n,className:"mr-2",status:n,color:t.tag&&g("tag",n)?"dark":"light",onClick:function(){return f(n)}})})))))}var D=n(52),q=n(258),P=n(270),A=n(259),F=n(260),R=n(261),W=n(262),I=n(263),L=n(264),J=n(122),B=n.n(J),U=n(127),M=n(121),H=n.n(M),$=function(e){var t=e.required,n=void 0!==t&&t,a=e.children,o=Object(k.a)(e,["required","children"]);return r.a.createElement(q.a,o,a,n&&r.a.createElement("span",{className:"text-danger ml-1"},"*"))};function z(e){var t=e.saveTodo,n=e.todo,o=e.toggle,c=e.tags,l=g("cg-autosave",!0),s=Object(u.a)(l,2),d=s[0],m=s[1],f=Object(a.useState)(),E=Object(u.a)(f,2),p=E[0],h=E[1],j=Object(a.useState)(!1),k=Object(u.a)(j,2),w=k[0],y=k[1],N=Object(a.useRef)(),C=H()((function(e){return t(e,{dismiss:!1})}),500);Object(a.useEffect)((function(){n&&(h(n),y(!1))}),[n]),Object(a.useEffect)((function(){!w&&N.current&&(N.current.focus(),y(!0))}),[w,p]);var S=function(e,t){var n=Object(i.a)({},p,Object(D.a)({},e,t));h(n),d&&C(n)},x=function(e){return S(e.target.name,e.target.value)};return r.a.createElement(P.a,{centered:!0,isOpen:!!n,toggle:o},r.a.createElement(A.a,{className:"bg-primary text-white",toggle:o},(null===p||void 0===p?void 0:p.title)||"Edit Todo"),r.a.createElement(F.a,null,r.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),t(p)}},r.a.createElement(W.a,null,r.a.createElement($,{required:!0,for:"form-title"},"Title"),r.a.createElement(b.a,{id:"form-title",name:"title",autoFocus:!0,onChange:x,value:null===p||void 0===p?void 0:p.title,innerRef:N,required:!0})),r.a.createElement(W.a,null,r.a.createElement($,{for:"form-description"},"Description"),r.a.createElement(b.a,{type:"textarea",name:"description",id:"form-description",onChange:x,value:null===p||void 0===p?void 0:p.description})),r.a.createElement(I.a,null,r.a.createElement(L.a,null,r.a.createElement(W.a,null,r.a.createElement($,{required:!0,for:"form-status"},"Status"),r.a.createElement(b.a,{id:"form-status",required:!0,type:"select",name:"status",onChange:x,value:null===p||void 0===p?void 0:p.status},v.map((function(e){return r.a.createElement("option",{key:e},e)}))))),r.a.createElement(L.a,null,r.a.createElement(W.a,null,r.a.createElement($,{for:"form-date",className:"d-block"},"Due Date"),r.a.createElement(B.a,{selected:null===p||void 0===p?void 0:p.dueDate,onChange:function(e){return S("dueDate",e)},minDate:new Date,className:"form-control"})))),r.a.createElement(W.a,null,r.a.createElement($,{for:"form-tags",className:"d-block"},"Tags"),r.a.createElement(U.a,{id:"form-tags",isMulti:!0,onChange:function(e){return S("tags",e)},value:null===p||void 0===p?void 0:p.tags,options:c})),r.a.createElement(I.a,null,r.a.createElement(L.a,null,!d&&r.a.createElement(O.a,{color:"primary"},"Save")),r.a.createElement(L.a,null,r.a.createElement(W.a,{check:!0,className:"my-2 text-right"},r.a.createElement(q.a,{check:!0},r.a.createElement(b.a,{type:"checkbox",checked:d,onChange:function(e){return m(e.target.checked)}})," ","Autosave changes?")))))))}var G=n(265),K=n(267),Q=n(128),V=n(126),X=n.n(V);function Y(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return Y=function(){return e},e}function Z(){var e=Object(s.a)(["\n  width: 30px;\n  height: 30px;\n  display: inline-block;\n  border-radius: 15px;\n  border: 2px solid #223344;\n  vertical-align: middle;\n  margin-right: 15px;\n  text-align: center;\n  color: white;\n  background-color: ",";\n"]);return Z=function(){return e},e}var _={Pending:"none","In Progress":"#dae4ed",Completed:"#223344"},ee=f.a.div(Z(),(function(e){return _[e.status]||"none"})),te=Object(f.a)(G.a)(Y()),ne=Object(a.memo)((function(e){var t=e.status,n=e.toggle;return"Completed"===t?r.a.createElement(ee,{status:t,onClick:n},"\u2713"):r.a.createElement(ee,{status:t,onClick:n})})),ae=Object(a.memo)((function(e){var t=e.todo,n=e.onRemove,a=e.onEdit,o=e.toggleStatus;return r.a.createElement(te,{onClick:a,className:"todo-item ".concat((null===t||void 0===t?void 0:t.include)?"d-block":"d-none")},r.a.createElement(ne,{status:t.status,toggle:function(e){e.stopPropagation(),o()},className:"noselect"}),r.a.createElement("span",{className:"align-middle"},t.title," ",r.a.createElement("span",{className:"text-muted"},t.dueDate&&"due ".concat(X()(t.dueDate).fromNow()))),r.a.createElement(O.a,{onClick:function(e){e.stopPropagation(),n()},close:!0}))})),re=n(266),oe=n(271);function ce(){var e=Object(s.a)(["\n  padding: 0.5rem;\n"]);return ce=function(){return e},e}var le=Object(f.a)(G.a)(ce());function ie(e){var t=e.createTodo,n=Object(a.useState)(""),o=Object(u.a)(n,2),c=o[0],l=o[1];return r.a.createElement(le,null,r.a.createElement(R.a,{onSubmit:function(e){e.preventDefault(),c&&""!==c&&(t({title:c,status:"Pending"}),l(""))}},r.a.createElement(re.a,null,r.a.createElement(b.a,{id:"form-title","data-testid":"create-title",name:"title",className:"no-border",onChange:function(e){return l(e.target.value)},value:c,placeholder:"New task",required:!0}),r.a.createElement(oe.a,{addonType:"append"},r.a.createElement(O.a,{color:"link"},"+ Add Task")))))}var ue=function(){return r.a.createElement(G.a,{className:"text-muted py-3"},"Create your first todo below!")};function se(e){var t=e.createTodo,n=e.todos,a=void 0===n?[]:n,o=e.reorderTodo,c=e.removeTodo,l=e.editTodo,i=e.toggleStatus,u=function(){return a&&0!==a.filter((function(e){return e.include})).length?a.map((function(e,t){return r.a.createElement(ae,{key:e.id,todo:e,onEdit:function(){return l(t)},onRemove:function(){return c(t)},toggleStatus:function(){return i(t)}})})):r.a.createElement(ue,null)};return r.a.createElement(Q.a,{nodeSelector:".todo-item",handleSelector:".todo-item",onDragEnd:o},r.a.createElement(K.a,null,r.a.createElement(u,null),r.a.createElement(ie,{createTodo:t})))}function de(){var e=Object(s.a)(["\n  max-width: 600px;\n  margin-bottom: 200px;\n"]);return de=function(){return e},e}var me=Object(f.a)(d.a)(de());var fe=function(){var e=g("cg-todos",[]),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(),s=Object(u.a)(c,2),d=s[0],f=s[1],v=g("cg-filtes",{status:"Not Completed"}),b=Object(u.a)(v,2),O=b[0],j=b[1],k=function(e){return e.map((function(e){return Object(i.a)({},e,{dueDate:e.dueDate?new Date(e.dueDate):void 0})}))}(n),w=function(e){var t=new Set;return e.forEach((function(e){e&&e.tags&&e.tags.forEach((function(e){return t.add(e.value)}))})),Object(l.a)(t.values()).sort().map((function(e){return{value:e,label:e}}))}(k),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dismiss,a=void 0===n||n;if(e&&e.id)o(k.map((function(t){return t.id===e.id?e:t}))),a&&f(void 0);else{var r=Object(i.a)({id:Object(m.a)()},e);o([].concat(Object(l.a)(k),[r])),f(r)}};return r.a.createElement(me,null,r.a.createElement("h1",{className:"text-center my-4"},"My Tasks"),r.a.createElement(h,{filters:O,setFilters:j}),r.a.createElement(se,{todos:E(k,O),reorderTodo:function(e,t){var n=Object(l.a)(k),a=n.splice(e,1)[0];n.splice(t,0,a),o(n)},createTodo:y,removeTodo:function(e){return o(k.filter((function(t,n){return n!==e})))},editTodo:function(e){return f(k[e])},toggleStatus:function(e){var t=k[e];y(Object(i.a)({},t,{status:p(t.status)}),{dismiss:!1})}}),r.a.createElement(z,{saveTodo:y,todo:d,toggle:function(){return f(void 0)},tags:w}),r.a.createElement(T,{filters:O,setFilters:j,tags:w}))},ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(fe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/connorgiles-todo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/connorgiles-todo","/service-worker.js");ge?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ve(t,e)}))}}()}},[[129,1,2]]]);
//# sourceMappingURL=main.b44ce315.chunk.js.map