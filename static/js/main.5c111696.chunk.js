(this["webpackJsonpconnorgiles-todo"]=this["webpackJsonpconnorgiles-todo"]||[]).push([[0],{157:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=(n(85),n(86),n(87),n(13)),l=n(22),u=n(62),s=n(20),d=n(176),m=n(178),f=n(21);var v=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.error(a),t}})),r=Object(i.a)(n,2),o=r[0],c=r[1];return[o,function(t){try{var n=t instanceof Function?t(o):t;c(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.error(a)}}]},g=["Pending","In Progress","Completed"],E=n(44),h=n(163);function p(){var e=Object(s.a)(["\n  cursor: ",";\n"]);return p=function(){return e},e}var b=Object(f.a)(h.a)(p(),(function(e){return e.onClick?"pointer":"inherit"})),O={Pending:"info","In Progress":"primary",Completed:"success"};function j(e){var t=e.status,n=e.color,a=Object(E.a)(e,["status","color"]);return r.a.createElement(b,Object.assign({color:n||O[t]},a),t)}function w(e){var t=e.filters,n=e.setFilters,a=e.tags,o=function(e){return n(Object(l.a)({},t,{status:e}))},c=function(e){n(Object(l.a)({},t,{tag:e}))},i=function(e,n){return!t[e]||t[e]===n};return r.a.createElement("div",null,r.a.createElement("div",{className:"my-3"},"Status:"," ",r.a.createElement(j,{className:"mr-2",color:"light",status:"All",onClick:function(){return o(void 0)}}),g.map((function(e){return r.a.createElement(j,{className:"mr-2",status:e,color:i("status",e)?void 0:"light",onClick:function(){return o(e)}})}))),r.a.createElement("div",{className:"my-3"},"Tags:"," ",r.a.createElement(j,{className:"mr-2",color:"light",status:"All",onClick:function(){return c(void 0)}}),a.map((function(e){var t=e.value;return r.a.createElement(j,{className:"mr-2",status:t,color:i("tag",t)?void 0:"light",onClick:function(){return c(t)}})}))))}var k=n(34),y=n(164),C=n(177),N=n(165),S=n(166),T=n(167),D=n(168),x=n(169),A=n(170),P=n(171),W=n(172),q=n(75),R=n.n(q),I=n(79),F=n(74),J=n.n(F),U=function(e){var t=e.required,n=void 0!==t&&t,a=e.children,o=Object(E.a)(e,["required","children"]);return r.a.createElement(y.a,o,a,n&&r.a.createElement("span",{className:"text-danger ml-1"},"*"))};function B(e){var t=e.saveTodo,n=e.todo,o=e.toggle,c=e.tags,u=v("cg-autosave",!0),s=Object(i.a)(u,2),d=s[0],m=s[1],f=Object(a.useState)(),E=Object(i.a)(f,2),h=E[0],p=E[1],b=Object(a.useState)(!1),O=Object(i.a)(b,2),j=O[0],w=O[1],q=Object(a.useRef)(),F=J()((function(e){return t(e,{dismiss:!1})}),500);Object(a.useEffect)((function(){n&&(p(n),w(!1))}),[n]),Object(a.useEffect)((function(){!j&&q.current&&(q.current.focus(),w(!0))}),[j,h]);var B=function(e,t){var n=Object(l.a)({},h,Object(k.a)({},e,t));p(n),d&&F(n)},L=function(e){return B(e.target.name,e.target.value)};return r.a.createElement(C.a,{isOpen:!!n,toggle:o},r.a.createElement(N.a,{toggle:o},(null===h||void 0===h?void 0:h.title)||"Edit Todo"),r.a.createElement(S.a,null,r.a.createElement(T.a,{onSubmit:function(e){e.preventDefault(),t(h)}},r.a.createElement(D.a,null,r.a.createElement(U,{required:!0,for:"form-title"},"Title"),r.a.createElement(x.a,{id:"form-title",name:"title",autoFocus:!0,onChange:L,value:null===h||void 0===h?void 0:h.title,innerRef:q,required:!0})),r.a.createElement(D.a,null,r.a.createElement(U,{for:"form-description"},"Description"),r.a.createElement(x.a,{type:"textarea",name:"description",id:"form-description",onChange:L,value:null===h||void 0===h?void 0:h.description})),r.a.createElement(A.a,null,r.a.createElement(P.a,null,r.a.createElement(D.a,null,r.a.createElement(U,{required:!0,for:"form-status"},"Status"),r.a.createElement(x.a,{id:"form-status",required:!0,type:"select",name:"status",onChange:L,value:null===h||void 0===h?void 0:h.status},g.map((function(e){return r.a.createElement("option",{key:e},e)}))))),r.a.createElement(P.a,null,r.a.createElement(D.a,null,r.a.createElement(U,{for:"form-date",className:"d-block"},"Due Date"),r.a.createElement(R.a,{selected:null===h||void 0===h?void 0:h.dueDate,onChange:function(e){return B("dueDate",e)},minDate:new Date,className:"form-control"})))),r.a.createElement(D.a,null,r.a.createElement(U,{for:"form-tags",className:"d-block"},"Tags"),r.a.createElement(I.a,{id:"form-tags",isMulti:!0,onChange:function(e){return B("tags",e)},value:null===h||void 0===h?void 0:h.tags,options:c})),r.a.createElement(A.a,null,r.a.createElement(P.a,null,!d&&r.a.createElement(W.a,{color:"primary"},"Save")),r.a.createElement(P.a,null,r.a.createElement(D.a,{check:!0,className:"my-2 text-right"},r.a.createElement(y.a,{check:!0},r.a.createElement(x.a,{type:"checkbox",checked:d,onChange:function(e){return m(e.target.checked)}})," ","Autosave changes?")))))))}var L=n(173),M=n(175),$=n(78),z=n.n($);function G(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return G=function(){return e},e}var H=Object(f.a)(L.a)(G());function K(e){var t=e.todo,n=e.onRemove,a=e.onEdit;return r.a.createElement(H,{key:t.id,onClick:a},t.title," ",r.a.createElement(j,{status:t.status})," ",t.dueDate&&"due ".concat(z()(t.dueDate).fromNow()),r.a.createElement(W.a,{onClick:function(e){e.stopPropagation(),n()},close:!0}))}var Q=n(174),V=n(179);function X(){var e=Object(s.a)(["\n  padding: 0.5rem;\n"]);return X=function(){return e},e}var Y=Object(f.a)(L.a)(X());function Z(e){var t=e.createTodo,n=Object(a.useState)(""),o=Object(i.a)(n,2),c=o[0],l=o[1];return r.a.createElement(Y,null,r.a.createElement(T.a,{onSubmit:function(e){e.preventDefault(),t({title:c,status:"Pending"}),l("")}},r.a.createElement(Q.a,null,r.a.createElement(x.a,{id:"form-title",name:"title",className:"no-border",onChange:function(e){l(e.target.value)},value:c,placeholder:"New task",required:!0}),r.a.createElement(V.a,{addonType:"append"},r.a.createElement(W.a,{color:"link"},"+ Add Task")))))}var _=function(){return r.a.createElement(L.a,{className:"text-muted py-3"},"Create your first todo below!")};function ee(e){var t=e.createTodo,n=e.todos,a=void 0===n?[]:n,o=e.removeTodo,c=e.editTodo,i=function(){return a&&0!==a.length?a.map((function(e,t){return r.a.createElement(K,{key:e.id,todo:e,onEdit:function(){return c(t)},onRemove:function(){return o(t)}})})):r.a.createElement(_,null)};return r.a.createElement(M.a,null,r.a.createElement(i,null),r.a.createElement(Z,{createTodo:t}))}function te(){var e=Object(s.a)(["\n  max-width: 600px;\n"]);return te=function(){return e},e}var ne=Object(f.a)(d.a)(te()),ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter((function(e){return(!t.status||t.status===e.status)&&!(t.tag&&!(e.tags||[]).find((function(e){return e.value===t.tag})))}))};var re=function(){var e=v("cg-todos",[]),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(),s=Object(i.a)(c,2),d=s[0],f=s[1],g=Object(a.useState)({}),E=Object(i.a)(g,2),h=E[0],p=E[1],b=function(e){return e.map((function(e){return Object(l.a)({},e,{dueDate:e.dueDate?new Date(e.dueDate):void 0})}))}(n),O=function(e){var t=new Set;return e.forEach((function(e){e&&e.tags&&e.tags.forEach((function(e){return t.add(e.value)}))})),Object(u.a)(t.values()).map((function(e){return{value:e,label:e}}))}(b),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dismiss,a=void 0===n||n;if(e&&e.id)o(b.map((function(t){return t.id===e.id?e:t}))),a&&f(void 0);else{var r=Object(l.a)({id:Object(m.a)()},e);o([].concat(Object(u.a)(b),[r])),f(r)}};return r.a.createElement(ne,null,r.a.createElement("h1",{className:"text-center my-4"},"Todos"),r.a.createElement(w,{filters:h,setFilters:p,tags:O}),r.a.createElement(ee,{todos:ae(b,h),createTodo:j,removeTodo:function(e){return o(b.filter((function(t,n){return n!==e})))},editTodo:function(e){return f(b[e])}}),r.a.createElement(B,{saveTodo:j,todo:d,toggle:function(){return f(void 0)},tags:O}))},oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(re,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/connorgiles-todo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/connorgiles-todo","/service-worker.js");oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ce(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ce(t,e)}))}}()},80:function(e,t,n){e.exports=n(157)},87:function(e,t,n){}},[[80,1,2]]]);
//# sourceMappingURL=main.5c111696.chunk.js.map